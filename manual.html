<!DOCTYPE html>
<html lang=en-us>
  <meta charset=utf-8>
  <meta name="viewport" content="width=device-width">
  <title>Ghurlbot manual</title>
  <link rel=stylesheet type="text/css"
	href="https://www.w3.org/Guide/guide2006.css">
  <link rel="shortcut icon"
	href="https://www.w3.org/Icons/WWW/Literature.gif">


  <h1>Ghurlbot manual</h1>

  <p>Ghurlbot is an IRC bot that gives the full URLs for GitHub issues
    and users. It typically has the nick name ‘ghurlbot’ on IRC.</p>

  <h2>IRC command to link to an issue: #</h2>

  <p>When somebody types something that looks like a repository name
    followed by <code>#</code> and an issue number, ghurlbot responds
    with the full URL of that issue or pull request:</p>

  <pre class=command>&lt;joe&gt; Let's talk about foo/bar#13.
&lt;ghurlbot&gt; -> 13 https://github.com/foo/bar/issues/13</pre>

  <p>(The <code>-&gt;</code> is understood
    by <a href="https://w3c.github.io/scribe2/scribedoc.html"
    >scribe.perl</a> and causes the URL to be formatted as a link when
    scribe.perl generates HTML from the IRC log.)</p>

  <p>Ghurlbot also tries to look up the issue on GitHub. If it
    succeeds, it not only shows a URL, but also a summary, e.g.:</p>

  <pre class=command>&lt;joe&gt; Next topic: w3c/scribe2#15
&lt;ghurlbot&gt; -&gt; Issue 15 [closed] Feature request: syntax for verbatim lines of code (dbooth-boston) https://github.com/w3c/scribe2/issues/15</pre>

  <p>If you tell ghurlbot what repository (or repositories) you are
    discussing (see <a href="#repo">below</a>), you can abbreviate the
    repository name, or even omit it:</p>

  <pre class=command>&lt;joe&gt; Next topic: #15
&lt;ghurlbot&gt; -&gt; Issue 15 [closed] Feature request: syntax for verbatim lines of code (dbooth-boston) https://github.com/w3c/scribe2/issues/15</pre>

  <p>If you have told ghurlbot to look at more than one repository,
    the above will only look in the repository that was added to
    ghurlbot last. To look up an issue in one of the other
    repositories, prefix the number with the name of the
    repository:</p>

  <pre class=command>&lt;joe&lgt; Let's talk about aria#13.</pre>

  <p>The prefix only needs to be long enough to be unambiguous. So if
    there are no other repositories known to ghurlbot that start with
    an ‘a’, it is enough to say</p>

  <pre class=command>&lt;joe&gt; a#13</pre>

  <p>You can optionally include the repository owner in the prefix:</p>

  <pre class=command>&lt;joe&gt; w3c/a#13</pre>

  <p>Only if none of the repositories that ghurlbot knows starts with
    those letters, ghurlbot assumes that the given name represents the
    full name of a repository.</p>

  <p>You can omit the owner if it is the same as the repository at the
    top of ghurlbot's list:</p>

  <pre class=command>&lt;joe&gt; Is scribe2#3 the same issue?
&lt;ghurlbot&gt; -> Issue 3 [closed] Errors replacing URLs (nigelmegitt) https://github.com/w3c/scribe2/issues/3</pre>

  <h2>IRC command to link to a user name: @</h2>

  <p>When somebody types <code>@</code> plus a name, it responds with
    the full URL to that person or team. E.g.:</p>

  <pre class=command>&lt;joe&gt; That comment came from @aliciag
&lt;ghurlbot&gt; -&gt; @aliciag https://github.com/aliciag</pre>

  <p>ghurlbot only expands a reference that is on in its own, not
    one that seems to be attached to something else, such as a URL
    (e.g., ‘example.com/slides#13’). If ghurlbot does not seem
    to recognize a reference, try to put spaces around it.</p>

  <h2 id=repo>Specifying the GitHub repository</h2>

  <p>To be able to refer to issues and pull requests with the
    abbreviated syntax, you nee to tell what repository is being
    discussed on this channel:</p>

  <pre class=command>&lt;joe&gt; ghurlbot, discussing https://github.com/xxx/yyy</pre>

  <p>Instead of <code>discussing</code>, you can also
    use <code>discuss</code>, <code>use</code>, <code>using</code>, <code>take
    up</code>, <code>taking up</code>, <code>this will be</code>
    or <code>this is</code>.</p>

  <p>The prefix ‘https://github.com/’ is assumed, so you can also say:</p>

  <pre class=command>&lt;joe&gt; ghurlbot, discussing xxx/yyy</pre>

  <p>And if you previously specified a repository with the same owner,
    you can also omit the owner:</p>

  <pre class=command>&lt;joe&gt; ghurlbot, discussing yyy</pre>

  <p>Every time you use the command, ghurlbot will add the given
    repository to its list. (Or move it to the top of the list, if it
    was already in the list.)

  <p>Ghurlbot remembers the repositories even when it is
    dismissed from a channel. When it is later asked to rejoin, it
    continues using the same repositories.</p>

  <h2>Removing repositories</h2>

  <p>To remove a repository from the list that ghurlbot knows:</p>

  <pre class=command>&lt;joe&gt; ghurlbot, drop xxx/yyy</pre>

  <p>Instead of <code>drop</code>, you can also
    say <code>forget</code>, <code>remove</code>, <code>don't
    use</code> or <code>do not use</code>.</p>

  <h2>Suspending the expansion of references</h2>

  <p>You can turn the bot off temporarily without dismissing it from
    the channel and turn it back on again:</p>

  <pre class=command>&lt;joe&gt; ghurlbot, off
&lt;joe&gt; ghurlbot, on</pre>

  <p>You can ask the bot to stop expanding just persons and teams:</p>

  <pre class=command>&lt;joe&gt; ghurlbot, set names to off
&lt;joe&gt; ghurlbot, names off
&lt;joe&gt; ghurlbot, names = off</pre>

  <p>Instead of <code>off</code>, you can also use <code>no</code>
    or <code>false</code>. And instead of <code>names</code> you can
    also use <code>persons</code> or <code>teams</code>.</p>

  <p>To ask it to stop expanding references to issues and pull requests,
    the command is:</p>

  <pre class=command>&lt;joe&gt; ghurlbot, set issues to off
&lt;joe&gt; ghurlbot, issues off
&lt;joe&gt; ghurlbot, issues = off</pre>

  <p>To turn the expansion of references back on,
    replace <code>off</code> by <code>on</code>, <code>yes</code>
    or <code>true</code>.</p>

  <p>When you address GHURLBot directly, it will respond even if
    expansion of references is suspended:</p>

  <pre class=command>&lt;joe&gt; ghurlbot, #13 and #14?
&lt;ghurlbot&gt; -&gt; #13 https://github.com/xxx/yyy/issues/13
&lt;ghurlbot&gt; -&gt; #14 https://github.com/xxx/yyy/issues/14</pre>

  <h2>Inviting and dismissing the bot</h2>

  <p>You can invite the bot to a channel and dismiss it:</p>

  <pre class=command>&lt;joe&gt; /invite ghurlbot
&lt;joe&gt; ghurlbot, bye</pre>

  <h2>Reducing the number of responses from the bot</h2>

  <p>To avoid flooding the IRC conversation with links, the bot will
    not expand a reference if it has already expanded the same
    reference recently. By default, it waits until 15 lines have been
    typed into the IRC channel before expanding the same reference
    again, but that can be configured. All of the following set the
    delay to 20 lines:</p>

  <pre class=command>&lt;joe&gt; ghurlbot, set delay to 20
&lt;joe&gt; ghurlbot, delay 20
&lt;joe&gt; ghurlbot, delay = 20</pre>

  <p>The delay only stops the bot from reacting to normal messages in
    the channel. When you address GHURLBot directly, it will
    respond even if it gave the same URL recently.</p>

  <h2>Inquiring about the current status</h2>

  <p>You can ask what repository it is currently using:</p>

  <pre class=command>&lt;joe&gt; ghurlbot, status?
&lt;ghurlbot&gt; Delay is 15 lines, issues are on, names are on and I'm using https://github.com/xxx/yyy</pre>

  <h2>Getting help</h2>

  <p>The bot also reacts to <code>help</code> with some information
    about itself and a link to this manual.</p>

  <h2>Source</h2>

  <p>GHURLBot is written in Perl.
    The <a href="https://github.com/w3c/GHURLBot" >source</a> is on
    GitHub.

  <hr>

  <address>Created by Bert Bos <a href="mailto:bert@w3.org"
    >&lt;bert@w3.org&gt;</a> on 12&nbsp;January 2022. Last updated
    $Date: Thu May  5 22:53:36 2022 UTC $ by $Author: Bert Bos $</address>
